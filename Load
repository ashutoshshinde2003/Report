DECLARE
    l_blob        BLOB;
    l_file_name   VARCHAR2(255);
    l_err_msg     VARCHAR2(4000);
    l_job_id      NUMBER;
    l_seq_no      NUMBER := 0;
    l_success     BOOLEAN := TRUE;
    l_status      VARCHAR2(20);
    l_row_count   NUMBER := 0;
    l_actual_rows NUMBER := 0;
    l_clob        CLOB;
BEGIN
    -- 1. Get latest uploaded file
    SELECT blob_content, filename
      INTO l_blob, l_file_name
      FROM (
          SELECT blob_content, filename
            FROM apex_application_temp_files
           WHERE